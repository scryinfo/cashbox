(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3eba2e4"],{"0147":function(t,s,e){e("a29f"),e("0607"),e("949e"),e("7565"),e("dfda")},"01fb":function(t,s,e){},"0662":function(t,s,e){e("a29f"),e("adba")},"48bc":function(t,s,e){"use strict";e("c8b8c")},"681e":function(t,s,e){e("a29f"),e("01fb")},"9b10":function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"business_confirm_page"},[e("div",{staticClass:"confirm_message_title_group"},[e("span",{staticClass:"confirm_message_title"},[t._v(t._s(t.$t("plsConfirmInfo")))])]),e("div",{staticClass:"business_info_group"},[e("div",{staticClass:"business_operation_group"},[e("span",{staticClass:"business_operation_key"},[t._v(t._s(t.$t("operationType")))]),e("span",{staticClass:"business_operation_value"},[t._v(t._s(t.authTypeText))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_name_group"},[e("span",{staticClass:"business_name_key"},[t._v(t._s(t.$t("businessName"))+" ")]),e("span",{staticClass:"business_name_value"},[t._v(t._s(t.businessModel.name))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_address_group"},[e("span",{staticClass:"business_address_key"},[t._v(t._s(t.$t("businessAddress")))]),e("span",{staticClass:"business_address_value"},[t._v(t._s(t.businessModel.address))])]),e("van-divider",{staticClass:"divider_line"}),e("div",{staticClass:"business_address_group"},[e("span",{staticClass:"business_address_key"},[t._v(t._s(t.$t("authCount")))]),e("span",{staticClass:"business_address_value"},[t._v(t._s(t.businessModel.maxCount))])]),e("van-divider",{staticClass:"divider_line"})],1),e("div",{staticClass:"confirm_to_chain_group"},[e("span",{staticClass:"confirm_to_chain_title"},[t._v(t._s(t.$t("pwdSignAndUpToChain")))])]),e("div",{staticClass:"up_chain_btn_group"},[e("van-button",{staticClass:"up_chain_btn",attrs:{plain:"",type:"info"},on:{click:t.onClickDConfirm}},[t._v(" "+t._s(t.$t("clickVerifyUpToChain"))+" ")])],1),e("van-overlay",{attrs:{show:t.isShowLoading}},[e("van-loading",{staticClass:"loading_component",attrs:{type:"spinner",vertical:""}},[t._v(t._s(t.loadHintInfo))])],1)],1)},i=[],a=(e("99af"),e("4160"),e("b0c0"),e("d3b7"),e("ac1f"),e("25f0"),e("5319"),e("498a"),e("159b"),e("bf19"),e("96cf"),e("1da1")),o=e("d4ec"),r=e("bee2"),c=e("262e"),l=e("2caf"),u=e("9ab4"),d=e("60a3"),b=e("b650"),h=e("6e47"),f=e("c7fe"),p=e("5487"),v=e("ef88"),g=(e("0662"),e("c2d8"),e("681e"),e("0147"),e("e815"),e("7c42")),_=e("481f"),y=e("f9e9");d["c"].use(b["a"]).use(h["a"]);var m=function(t){Object(c["a"])(e,t);var s=Object(l["a"])(e);function e(){var t;return Object(o["a"])(this,e),t=s.apply(this,arguments),t.businessModel=new v["b"],t.authTypeText="",t.signedValue="",t.isShowLoading=!1,t.loadHintInfo="信息上链进行中...",t.isFirstEnter=!0,t}return Object(r["a"])(e,[{key:"created",value:function(){this.$store.state.title=this.$t("confirmInfo").toString(),this.authTypeText=this.$t("unknownType").toString();var t=this,s=function(s){return function(){t.isFirstEnter&&(t.isFirstEnter=!t.isFirstEnter,s())}};s(_["a"].instance().callNativeSaveDappChainInfo)()}},{key:"mounted",value:function(){this.businessModel=this.$store.state.nowBusiness,console.log("this.businessModel.authType===>"+this.businessModel.authType),this.businessModel.authType===v["a"].Auth?this.authTypeText=this.$t("addBusiness").toString():this.businessModel.authType===v["a"].Delete?this.authTypeText=this.$t("deleteBusiness").toString():g["a"].fail(this.$t("operateTypeIsError").toString()),this.signedValue=this.businessModel.signInfo}},{key:"onClickDConfirm",value:function(){var t=this;this.isShowLoading=!0,this.loadHintInfo=this.$t("assemblingData").toString(),console.log("this.businessModel.authAddress===>"+this.businessModel.authAddress+"||this.businessModel.authType===>"+this.businessModel.authType+"||this.businessModel.maxCount===>"+this.businessModel.maxCount+"||this.businessModel.name===>"+this.businessModel.name+"||this.businessModel.address===>"+this.businessModel.address),p["b"].getInstance().assembleOperateBusiness(this.businessModel.authType,y["a"].instance().address(),this.businessModel.name,this.businessModel.address,this.businessModel.maxCount).then((function(s){t.isShowLoading=!1,null!==s&&void 0!==s&&""!==s.trim()?(console.log("callAddBusiness is ok, res======>"+s),g["a"].show(t.$t("plsInputPwdAndSign").toString()),_["a"].instance().callNativeSignMsgToJs(s).then((function(s){console.log("nativeSignMsgToJsResult res======>"+s),t.isShowLoading=!0,t.loadHintInfo=t.$t("dataUploading").toString(),t.sendToChain(s)}))):g["a"].fail(t.$t("assembleDataError").toString())})).catch((function(s){t.isShowLoading=!1,g["a"].show(t.$t("unknownErrorPlsRecheck").toString()+s.toString())}))}},{key:"sendToChain",value:function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(s){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:p["b"].getInstance().sendToChain(s,(function(t){if(t.isFinalized){console.log("status is isFinalized ===>");var s=t.asFinalized;p["b"].getInstance().loadApiPromise().then((function(t){t.query.system.events.at(s).then((function(t){e.isShowLoading=!1;var s=!1;t.forEach((function(t){var n=t.phase,i=t.event,a=i.data,o=i.method,r=i.section;if("contracts"==r&&"ContractExecution"==o){console.log("contracts===>"+a.toJSON()),g["a"].show(e.$t("successUpLoad").toString(),8e3),s=!0;var c=e;setTimeout((function(){c.$router.push({name:"business_process"})}),1e3)}console.log("forEach  =>"+n.toString()+"||section=>"+": ".concat(r,".").concat(o)+a.toString())})),s||g["a"].fail(e.$t("failUpLoad").toString(),8e3)}))}))}return t.isBroadcast&&console.log("status.isBroadcast===>"),t.isDropped?(e.isShowLoading=!1,console.log("status.isDropped===>"),void g["a"].show(e.$t("failUpLoad").toString(),8e3)):t.isInvalid?(e.isShowLoading=!1,console.log("status.isInvalid!===>"),void g["a"].show(e.$t("failUpLoad").toString(),8e3)):void 0})).catch((function(t){e.isShowLoading=!1,console.log("Error reason===>"+t),e.$router.replace({name:"business_entry"}),g["a"].show(e.$t("failUpLoad").toString(),8e3)}));case 1:case"end":return t.stop()}}),t)})));function s(s){return t.apply(this,arguments)}return s}()}]),e}(d["c"]);m=Object(u["a"])([Object(d["a"])({components:{CertShow:f["a"]}})],m);var C=m,S=C,w=(e("48bc"),e("2877")),O=Object(w["a"])(S,n,i,!1,null,"6c11d261",null);s["default"]=O.exports},a866:function(t,s,e){},adba:function(t,s,e){},b650:function(t,s,e){"use strict";var n=e("c31d"),i=e("2638"),a=e.n(i),o=e("d282"),r=e("ba31"),c=e("b1d2"),l=e("48f4"),u=e("ad06"),d=e("543e"),b=Object(o["a"])("button"),h=b[0],f=b[1];function p(t,s,e,n){var i,o=s.tag,b=s.icon,h=s.type,p=s.color,v=s.plain,g=s.disabled,_=s.loading,y=s.hairline,m=s.loadingText,C=s.iconPosition,S={};function w(t){_||g||(Object(r["a"])(n,"click",t),Object(l["a"])(n))}function O(t){Object(r["a"])(n,"touchstart",t)}p&&(S.color=v?p:c["f"],v||(S.background=p),-1!==p.indexOf("gradient")?S.border=0:S.borderColor=p);var T=[f([h,s.size,{plain:v,loading:_,disabled:g,hairline:y,block:s.block,round:s.round,square:s.square}]),(i={},i[c["b"]]=y,i)];function k(){return _?e.loading?e.loading():t(d["a"],{class:f("loading"),attrs:{size:s.loadingSize,type:s.loadingType,color:"currentColor"}}):b?t(u["a"],{attrs:{name:b,classPrefix:s.iconPrefix},class:f("icon")}):void 0}function $(){var n,i=[];return"left"===C&&i.push(k()),n=_?m:e.default?e.default():s.text,n&&i.push(t("span",{class:f("text")},[n])),"right"===C&&i.push(k()),i}return t(o,a()([{style:S,class:T,attrs:{type:s.nativeType,disabled:g},on:{click:w,touchstart:O}},Object(r["b"])(n)]),[t("div",{class:f("content")},[$()])])}p.props=Object(n["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),s["a"]=h(p)},c5b7:function(t,s,e){"use strict";e("a866")},c7fe:function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"cert_detail_cls"},t._l(t.certMap,(function(s){return e("div",{staticClass:"item_cert_row"},[e("div",{staticClass:"item_group"},[e("span",{staticClass:"item_cert_key"},[t._v(t._s(s.key))]),e("span",{staticClass:"item_cert_value"},[t._v(t._s(s.value))])]),e("van-divider",{staticClass:"divider_line"})],1)})),0)},i=[],a=(e("d3b7"),e("ddb0"),e("b85c")),o=e("6b75");function r(t){if(Array.isArray(t))return Object(o["a"])(t)}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("3ca3");function c(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var l=e("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(t){return r(t)||c(t)||Object(l["a"])(t)||u()}var b=e("d4ec"),h=e("bee2"),f=e("262e"),p=e("2caf"),v=e("9ab4"),g=e("60a3"),_=e("9ed2");e("eeb2");g["c"].use(_["a"]);var y=function(t){Object(f["a"])(e,t);var s=Object(p["a"])(e);function e(){return Object(b["a"])(this,e),s.apply(this,arguments)}return Object(h["a"])(e,[{key:"certMap",get:function(){this.certOwn||(this.certOwn=this.$store.state.nowCertOwn);var t=[];if(this.certOwn&&this.certOwn.cert&&(t.push.apply(t,d(this.certOwn.cert.objArray)),this.certOwn.cert.i18n)){var s,e=Object(a["a"])(this.certOwn.cert.objArray.keys());try{for(e.s();!(s=e.n()).done;){var n=s.value,i=this.certOwn.cert.objArray[n],o=this.$t(i.key);o&&(i.key=o,t[n]=i)}}catch(r){e.e(r)}finally{e.f()}}return t}}]),e}(g["c"]);y=Object(v["a"])([Object(g["a"])({name:"CertCard"})],y);var m=y,C=m,S=(e("c5b7"),e("2877")),w=Object(S["a"])(C,n,i,!1,null,null,null);s["a"]=w.exports},c8b8c:function(t,s,e){},dfda:function(t,s,e){}}]);
//# sourceMappingURL=chunk-c3eba2e4.b8293ca1.js.map